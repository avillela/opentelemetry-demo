{
    "name": "default",
    // To get this to run locally on Apple Silicon: docker pull --platform linux/amd64 <image_name>
    "image": "mcr.microsoft.com/devcontainers/base:ubuntu",
    "features": {

      "ghcr.io/devcontainers/features/dotnet:2": {
        "version": "8.0",
        "dotnetRuntimeVersions": "7.0", 
        "aspNetCoreRuntimeVersions": "7.0"
      },
      // "ghcr.io/devcontainers/features/hugo:1": {
      //     "version": "latest"
      // },
      "ghcr.io/devcontainers/features/node:1": {
          "version": "20",
          "additionalVersions": "18"
      },
      // "./local-features/nvs": "latest",
      "ghcr.io/devcontainers/features/python:1": {
          "version": "3.12.1",
          "additionalVersions": "3.11.9",
          // "installJupyterlab": "true",
          // "configureJupyterlabAllowOrigin": "*",
          // "useOryxIfAvailable": "false"
      },
      // "./local-features/machine-learning-packages": "latest",
      "ghcr.io/devcontainers/features/php:1": {
          "version": "8.3.0",
          "additionalVersions": "8.2.13",
          "installComposer": "true"
      },
      // "ghcr.io/devcontainers/features/conda:1": {
      //     "version": "latest"
      // },
      "ghcr.io/devcontainers/features/ruby:1": {
          "version": "3.3.4",
          "additionalVersions": "3.3.2"
      },
      "ghcr.io/devcontainers/features/java:1": {
          "version": "21",
          "additionalVersions": "17",
          "installGradle": "true",
          "installMaven": "true"
      },
      "ghcr.io/devcontainers/features/sshd:1": {
          "version": "latest"
      },
      // "ghcr.io/devcontainers/features/git:1": {
      //     "version": "latest",
      //     "ppa": "false"
      // },
      "ghcr.io/devcontainers/features/git-lfs:1": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/github-cli:1": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/docker-in-docker:2": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/go:1": {
          "version": "latest"
      },
      // "./local-features/jekyll": "latest",
      // "ghcr.io/devcontainers/features/oryx:1": "latest",
      // "./local-features/setup-user": "latest",
      // "./local-features/patch-python": {},
      // "./local-features/patch-conda": {}
	  },
    "overrideFeatureInstallOrder": [
        // "ghcr.io/devcontainers/features/common-utils",
        // "ghcr.io/devcontainers/features/git",
        "ghcr.io/devcontainers/features/dotnet",
        // "ghcr.io/devcontainers/features/hugo",
        "ghcr.io/devcontainers/features/node",
        // "./local-features/nvs",
        "ghcr.io/devcontainers/features/conda",
        // "./local-features/patch-conda",
        "ghcr.io/devcontainers/features/python",
        // "./local-features/patch-python",
        // "./local-features/machine-learning-packages",
        "ghcr.io/devcontainers/features/php",
        "ghcr.io/devcontainers/features/ruby",
        "ghcr.io/devcontainers/features/java",
        "ghcr.io/devcontainers/features/sshd",
        "ghcr.io/devcontainers/features/git-lfs",
        "ghcr.io/devcontainers/features/github-cli",
        "ghcr.io/devcontainers/features/docker-in-docker",
        "ghcr.io/devcontainers/features/kubectl-helm-minikube",
        "ghcr.io/devcontainers/features/go",
        // "./local-features/jekyll",
        // "ghcr.io/devcontainers/features/oryx",
        // "./local-features/setup-user"
    ],
    "hostRequirements": {
      "cpus": 4,
      "memory": "16gb",
      "storage": "32gb"
    },
    "customizations": {
      // Codespaces-specific configs
      "codespaces": {},
      // VSCode-specific configs
      "vscode": {
        "extensions": ["ms-azuretools.vscode-docker"],
        "settings": {
          "go.toolsManagement.checkForUpdates": "local",
          "go.useLanguageServer": true,
          "go.gopath": "/go",
          "python.defaultInterpreterPath": "/home/codespace/.python/current/bin/python3",
          // "jupyter.kernels.filter": [
          //     {
          //         "path": "/opt/conda/bin/python",
          //         "type": "pythonEnvironment"
          //     },
          //     {
          //         "path": "/usr/local/python/current/bin/python3",
          //         "type": "pythonEnvironment"
          //     },
          //     {
          //         "path": "/usr/local/python/current/bin/python",
          //         "type": "pythonEnvironment"
          //     },
          //     {
          //         "path": "/usr/bin/python3",
          //         "type": "pythonEnvironment"
          //     },
          //     {
          //         "path": "/bin/python3",
          //         "type": "pythonEnvironment"
          //     }
          // ],
          "lldb.executable": "/usr/bin/lldb",

          "workbench.editor.enablePreview": true,
          "remote.autoForwardPortsSource": "process",
          "remote.autoForwardPortsFallback": 40
        }
      }      
    },
    "forwardPorts": [8080, 9090]
  }
  