{
    "name": "default",
    // To get this to run locally on Apple Silicon: docker pull --platform linux/amd64 <image_name>
    "image": "mcr.microsoft.com/devcontainers/base:ubuntu",
    "features": {

      "ghcr.io/devcontainers/features/dotnet:2": {
        "version": "8.0",
        "dotnetRuntimeVersions": "7.0", 
        "aspNetCoreRuntimeVersions": "7.0"
      },
      "ghcr.io/devcontainers/features/node:1": {
          "version": "20",
          "additionalVersions": "18"
      },
      "ghcr.io/devcontainers/features/python:1": {
          "version": "3.12.1",
          "additionalVersions": "3.11.9"
      },
      "ghcr.io/devcontainers/features/php:1": {
          "version": "8.3.0",
          "additionalVersions": "8.2.13",
          "installComposer": "true"
      },
      "ghcr.io/devcontainers/features/ruby:1": {
          "version": "3.3.4",
          "additionalVersions": "3.3.2"
      },
      "ghcr.io/devcontainers/features/java:1": {
          "version": "21",
          "additionalVersions": "17",
          "installGradle": "true",
          "installMaven": "true"
      },
      "ghcr.io/devcontainers/features/sshd:1": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/git-lfs:1": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/github-cli:1": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/docker-in-docker:2": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {
          "version": "latest"
      },
      "ghcr.io/devcontainers/features/go:1": {
          "version": "latest"
      }
	  },
    "overrideFeatureInstallOrder": [
        "ghcr.io/devcontainers/features/dotnet",
        "ghcr.io/devcontainers/features/node",
        "ghcr.io/devcontainers/features/conda",
        "ghcr.io/devcontainers/features/python",
        "ghcr.io/devcontainers/features/php",
        "ghcr.io/devcontainers/features/ruby",
        "ghcr.io/devcontainers/features/java",
        "ghcr.io/devcontainers/features/sshd",
        "ghcr.io/devcontainers/features/git-lfs",
        "ghcr.io/devcontainers/features/github-cli",
        "ghcr.io/devcontainers/features/docker-in-docker",
        "ghcr.io/devcontainers/features/kubectl-helm-minikube",
        "ghcr.io/devcontainers/features/go"
    ],
    "hostRequirements": {
      "cpus": 4,
      "memory": "16gb",
      "storage": "32gb"
    },
    "customizations": {
      // Codespaces-specific configs
      "codespaces": {},
      // VSCode-specific configs
      "vscode": {
        "extensions": ["ms-azuretools.vscode-docker"],
        "settings": {
          "go.toolsManagement.checkForUpdates": "local",
          "go.useLanguageServer": true,
          "go.gopath": "/go",
          "python.defaultInterpreterPath": "/home/codespace/.python/current/bin/python3",
          "lldb.executable": "/usr/bin/lldb",

          "terminal.integrated.scrollback": 1000000,
          "workbench.editor.enablePreview": true,
          "remote.autoForwardPortsSource": "process",
          "remote.autoForwardPortsFallback": 40
        }
      }      
    },
    "forwardPorts": [8080, 9090]
  }
  